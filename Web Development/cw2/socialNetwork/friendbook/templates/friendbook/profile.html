{% extends "./base.html" %} 
{% load static %} 
{% load tz %}
{% load custom_tags %}
{% block javascript %}
<script>

</script>
{% endblock javascript %} 

{% block content %}

<div class="container">
  <div class="profile">
    <div class="infoHeader">
      <img
        src="{{ user_profile.profile_image }}"
        class="profilePicture"
        alt=""
      />
      <div class="userInfo">
        <span class="name">{{user_profile.user.first_name}} {{user_profile.user.last_name}}</span>
        <span>Friends</span>
      </div>
    </div>
  </div>

  <div class="space-y-5 flex-shrink-0 lg:w-7/12">
    {% for post in posts %}
    <div class="bg-white shadow rounded-md -mx-2 lg:mx-0">
      <!-- post header-->
      <div class="flex justify-between items-center px-2 py-3">
        <div class="flex flex-1 items-center space-x-4">
          <a href="/profile/{{post.user.user.username}}">
            <div
              class="bg-gradient-to-tr from-yellow-600 to-pink-600 p-0.5 rounded-full"
            >
              <img
                src="{{post.user.profile_image}}"
                class="bg-gray-200 border border-white rounded-full w-8 h-8"
              />
            </div>
          </a>
          <a href="/profile/{{post.user.user.username}}">
            <span class="block capitalize font-semibold">
              {{post.user.user.first_name}} {{post.user.user.last_name}}
            </span>
          </a>

          <span>
            {{post.created_at|format_date|localtime}}
          </span>
        </div>
        <div>
          <a href="#">
            <i
              class="icon-feather-more-horizontal text-2xl hover:bg-gray-200 rounded-full p-2 transition -mr-1"
            ></i>
          </a>
          <div
            class="bg-white w-56 shadow-md mx-auto p-2 mt-12 rounded-md text-gray-500 hidden text-base border border-gray-100"
            uk-drop="mode: hover;pos: top-right"
          >
            <ul class="space-y-1">
              <li>
                <a
                  href="#"
                  class="flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md"
                >
                  <i class="uil-share-alt mr-1"></i> Share
                </a>
              </li>
              <li>
                <a
                  href="#"
                  class="flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md"
                >
                  <i class="uil-edit-alt mr-1"></i> Edit Post
                </a>
              </li>
              <li>
                <a
                  href="#"
                  class="flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md"
                >
                  <i class="uil-comment-slash mr-1"></i> Disable comments
                </a>
              </li>
              <li>
                <hr class="-mx-2 my-2" />
              </li>
              <li>
                <a
                  href="#"
                  class="flex items-center px-3 py-2 text-red-500 hover:bg-red-100 hover:text-red-500 rounded-md"
                >
                  <i class="uil-trash-alt mr-1"></i> Delete
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="flex justify-between items-center px-2">
          <span>{{post.caption}}</span>
      </div>

      <div uk-lightbox>
        {% if post.post_image|length == 1 %}
        <div class="grid grid-cols-1 gap-2 p-2">
          {% for image in post.post_image %}
          <a href="{{image.image}}">
            <img src="{{image.image}}" alt="" class="rounded-md w-full h-full"/>
          </a>
          {% endfor %}
        </div>

        {% elif post.post_image|length == 2 %}
        <div class="grid grid-cols-2 gap-2 p-2">
          {% for image in post.post_image %}
          <a href="{{image.image}}">
            <img
              src="{{image.image}}"
              alt=""
              class="rounded-md w-full h-full"
            />
          </a>
          {% endfor %}
        </div>

        {%else %}
        <div class="grid grid-cols-2 gap-2 p-2">
          {% for image in post.post_image %}
          {% if forloop.counter == 1 %}
          <a
            href="{{image.image}}"
            class="col-span-2"
          >
            <img
              src="{{image.image}}"
              alt=""
              class="rounded-md w-full lg:h-76 object-cover"
            />
          </a>

          {% elif forloop.counter == 2 %}
          <a href="{{image.image}}">
            <img
              src="{{image.image}}"
              alt=""
              class="rounded-md w-full h-full"
            />
          </a>

          {% elif forloop.counter == 3 %}
          <a
            href="{{image.image}}"
            class="relative"
          >
            <img
              src="{{image.image}}"
              alt=""
              class="rounded-md w-full h-full"
            />
            <div
              class="absolute bg-gray-900 bg-opacity-30 flex justify-center items-center text-white rounded-md inset-0 text-2xl"
            >
              + {{post.post_image|length|add:-3}} more
            </div>
          </a>
          {% else %}
            <a
            href="{{image.image}}"
            class="hidden"
          >
            <img
              src="{{image.image}}"
              alt=""
              class="rounded-md w-full h-full"
            />
          </a>
          {% endif %}
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="py-3 px-4 space-y-3">
        <div class="flex space-x-4 lg:font-bold">
          <a href="#" class="flex items-center space-x-2">
            <div class="p-2 rounded-full text-black">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
                width="25"
                height="25"
                class=""
              >
                <path
                  d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"
                />
              </svg>
            </div>
          </a>
          <a href="#" class="flex items-center space-x-2">
            <div class="p-2 rounded-full text-black">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
                width="25"
                height="25"
                class=""
              >
                <path
                  fill-rule="evenodd"
                  d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
          </a>
     
        </div>
        <div class="flex items-center space-x-3">
          <div class="flex items-center">
            <img
              src="{% static 'assets/images/avatars/avatar-1.jpg' %}"
              alt=""
              class="w-6 h-6 rounded-full border-2 border-white"
            />
            <img
              src="{% static 'assets/images/avatars/avatar-4.jpg' %}"
              alt=""
              class="w-6 h-6 rounded-full border-2 border-white -ml-2"
            />
            <img
              src="{% static 'assets/images/avatars/avatar-2.jpg' %}"
              alt=""
              class="w-6 h-6 rounded-full border-2 border-white -ml-2"
            />
          </div>
          <div class="">
            Liked <strong> taiye</strong> and <strong> 209 Others </strong>
          </div>
        </div>

        <div class="border-t pt-4 space-y-4">
          <div class="flex">
            <div class="w-10 h-10 rounded-full relative flex-shrink-0">
              <img
                src="{% static 'assets/images/avatars/avatar-1.jpg' %}"
                alt=""
                class="absolute h-full rounded-full w-full"
              />
            </div>
            <div
              class="text-gray-700 py-2 px-3 rounded-md bg-gray-100 h-full relative lg:ml-5 ml-2 lg:mr-20"
            >
              <p class="leading-6">
                Y'all like billie eillish? <urna class="i uil-heart"></urna>
                <i class="uil-grin-tongue-wink"> </i>
              </p>
              <div
                class="absolute w-3 h-3 top-3 -left-1 bg-gray-100 transform rotate-45"
              ></div>
            </div>
          </div>
          <div class="flex">
            <div class="w-10 h-10 rounded-full relative flex-shrink-0">
              <img
                src="{% static 'assets/images/avatars/avatar-1.jpg' %}"
                alt=""
                class="absolute h-full rounded-full w-full"
              />
            </div>
            <div
              class="text-gray-700 py-2 px-3 rounded-md bg-gray-100 h-full relative lg:ml-5 ml-2 lg:mr-20"
            >
              <p class="leading-6">
                She's my favourite <i class="uil-grin-tongue-wink-alt"></i>
              </p>
              <div
                class="absolute w-3 h-3 top-3 -left-1 bg-gray-100 transform rotate-45"
              ></div>
            </div>
          </div>
        </div>

        <div class="bg-gray-100 bg-gray-100 rounded-full rounded-md relative">
          <input
            type="text"
            placeholder="post a comment"
            class="bg-transparent max-h-10 shadow-none"
          />
          <div
            class="absolute bottom-0 flex h-full items-center right-0 right-3 text-xl space-x-2"
          >
            <a href="#"> <i class="uil-image"></i></a>
            <a href="#"> <i class="uil-video"></i></a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}  
  </div>
</div>

{% endblock %}
